{% props isOpen = false, displayClass = 'flex' %}

<div {{ attributes.defaults({
        role: 'dialog',
        'aria-modal': 'true',
        tabindex: -1,
        class: 'fixed top-0 left-0 right-0 z-50 p-4 overflow-x-hidden overflow-y-auto  h-screen max-h-full justify-center items-center '~(isOpen ? 'flex' : 'hidden'),
    }).add(stimulus_controller('modal', {
        startOpen: isOpen,
        displayClass: displayClass,
    })|stimulus_action('modal', 'open', 'modal:open')|stimulus_action('modal', 'close', 'keydown.esc'))
}}>
    <div class="relative w-full max-h-full">
        <div class="flex justify-center pt-4 px-4 text-center">
            <div
                class="inline-block bg-[#f6f6f6] dark:bg-black-7 rounded-lg text-left overflow-hidden shadow-xl transform transition-all"
                {{ stimulus_target('modal', 'wrapper') }}
            >
                {% if block('header') %}
                    <div class="p-4">
                        <div class="flex items-start">
                            <div class="mt-3 text-center">
                                {% block header %}{% endblock %}
                            </div>
                        </div>
                    </div>
                {% endif %}
                {% block content %}{% endblock %}
            </div>
        </div>
    </div>
</div>
